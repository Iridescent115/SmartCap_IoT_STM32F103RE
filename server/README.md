# RG200U TCP/IPv6 服务器

## 功能说明

这是一个基于Python + PyQt5的TCP/IPv6服务器，用于与RG200U 4G模块进行通信。

## 环境要求

- Python 3.7+
- PyQt5

## 安装依赖

```bash
pip install PyQt5
```

## 使用方法

1. **启动服务器**
   ```bash
   python tcp_server.py
   ```

2. **配置服务器**
   - 监听地址：默认`::`（IPv6任意地址）
   - 端口：默认`8080`
   - 点击"启动服务器"按钮

3. **查看IPv6地址**
   - Windows: `ipconfig`，查找`IPv6 地址`
   - Linux/Mac: `ifconfig`或`ip addr`

4. **RG200U连接命令**
   ```
   AT+QIOPEN=1,0,"TCP","你的IPv6地址",8080,0,0
   ```

## 功能特性

- ✅ 支持IPv6公网连接
- ✅ TCP长连接透传
- ✅ 实时显示接收数据（文本/十六进制）
- ✅ 支持发送自定义数据
- ✅ 快捷控制按钮（继电器开关等）
- ✅ 完整的连接日志

## 通信流程

1. RG200U使用`AT+QIOPEN`连接服务器
2. 服务器接受连接，显示客户端IPv6地址
3. 双向数据透传：
   - 服务器→RG200U：在界面输入数据点击发送
   - RG200U→服务器：自动显示在接收区域
4. STM32通过RS485接收服务器数据

## 注意事项

- 确保路由器已开启IPv6并分配公网地址
- 防火墙需要开放8080端口（或自定义端口）
- RG200U需要成功获取IPv6地址
- 建议使用固定的IPv6前缀（配置路由器）
